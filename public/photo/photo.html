<!DOCTYPE html>
<html lang="en">
  <head>
  

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="Lysa Noé" content="Website Lysa Noé">
        

        <title>Foto's</title>

                <!-- Bootstrap Core CSS -->
        <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!-- Font Awesome CSS -->
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        
        <!-- Custom CSS -->
        <link href="../css/animate.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../css/style.css" rel="stylesheet">

        <!-- Lightbox -->
        <link href="../photo/css/lightbox.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>


        <!-- Template js -->
        <script src="../js/jquery-2.1.1.min.js"></script>
        <script src="../bootstrap/js/bootstrap.min.js"></script>
        <script src="../js/jquery.appear.js"></script>
        <script src="../js/contact_me.js"></script>
        <script src="../js/jqBootstrapValidation.js"></script>
        <script src="../js/modernizr.custom.js"></script>
        <script src="../js/script.js"></script>

      
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script type="text/javascript">
          
            'use strict';
        
            var app;
            var imageStore = '/imageStore/';
          
            // Things to do after the page loads
            window.onload = function () {
            
                var currentAlbum;
                
                // Create all the album tabs
                $.ajax({
                    url:  '/getAlbums',
                    success: function(data) {
                        console.log('Success for getAlbums:', data);
                        var shortName, longName, html, count;
                        if (data) {
                            if (data.data) data = data.data;
                            
                            // Generate an extra album 'all photos'
                            data.push({shortName: '__allImages', longName: 'Alle Foto\'s'});
                            
                            count = 0;
                            for (var index in data) {
                              
                                longName = data[index].longName;
                                shortName = data[index].shortName;
                                
                                html = '<li role="presentation" class="' + (count++ ? '' : 'active') + '">';
                                html +=     '<a href="#' + shortName + '" aria-controls="' + shortName + '" role="tab" data-toggle="tab"' +
                                            ' onclick="getImagesForTab(\'' + shortName + '\');"' +
                                            '>';
                                html +=         longName;
                                html +=     '</a>';
                                html += '</li>';
                                
                                $('ul.nav-tabs:first').append(html);
                            }
                        }
                    },
                    error: function(data) {
                        console.log('Error after getAlbums', data);
                    }
                });

                // Create all the images
                $.ajax({
                    url:  '/getImages',
                    success: function(data) {
                        console.log('Success for getImages:', data);
                        var caption, fileName, file, html, albums;
                        if (data) {
                            if (data.data) data = data.data;
                            for (var index in data) {
                              
                                albums = data[index].albums;
                                caption = data[index].caption;
                                fileName = data[index].imageId.split('/').pop();
                                file = imageStore + fileName;
                              
                                html = '<div class="col-md-3 fromImageStore">';
                                html +=   '<div class="img-wrapper">';
                                html +=   '<a href="' + file + '" class=""' +
                                          ' data-lightbox="gallery"' +
                                          ' data-title="' + caption + '"';
                                for (var aIndex in albums) {
                                    html += ' data-album-' +  albums[aIndex];
                                }
                                html +=   '>';
                                html +=     '<img src="' + file + '" class="img-thumbnail">';
                                html +=   '</a>';
                                html +=   '<div class="title">' + caption + '</div>'
                                html +=   '</div>';
                                html += '</div>';
                                
                                $('div.tab-pane:first').find('div.row').append(html);
                            }
                            
                            // Click the active tab to correctly fill the gallery
                            $('ul.nav-tabs').find('li.active').find('a').click();
                        }
                    },
                    error: function(data) {
                        console.log('Error after getImages', data);
                    }
                });
            }
            
            function getImagesForTab (albumName) {
                // __allImages: alles
                // andere album: alles naar temp, terug wat in album zit
                
                if (albumName) {
                    if (albumName == '__allImages') {
                        // Move everything from local storage to gallery
                        $('div.localImageStore').find('a').parent().appendTo('div.imageGallery');
                        
                    } else {
                        // Move all images to local storage
                        $('div.imageGallery').find('div.fromImageStore').appendTo('div.localImageStore');
                        
                        // Move relevant images back
                        $('div.localImageStore').find('a[data-album-' + albumName + ']').parent().appendTo('div.imageGallery');
                    }
                }
            }
    
          // Set up Feathers client side
          //var host = 'http://localhost:3030';
          //app = feathers()
          //    .configure(feathers.rest(host).jquery(jQuery))
          //    .configure(feathers.hooks())
          //    .configure(feathers.authentication({
          //        //type: 'local'
          //        //storage: window.localStorage
          //    }));
    
        </script> 

  </head>

  <body class="photo">


      <div class="container">          
          <div class="row">
              <div class="section-title text-center">
                  <h3>Foto's</h3>
              </div>
          </div>
      </div><!-- /.container -->

      <!-- NAVBAR TOP -->

      <!-- Album tabs 14/8/2016-->

      <nav class="navbar navbar-default navbar-fixed-top"> <!-- Fixed bottom 14/8/2016 -->
        <div class="container-fluid">

            <!-- Close Cross --> <!-- Moved under navbar-fixed-top 14/8/2016 -->
            <a href="../index.html">  <i class="close pull-right"></i></a>
            <!-- End Close Cross -->

        <!-- Toggle minimized button mobile devices Albums -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2" aria-expanded="false"> <!-- data-target change to collapse-2 14/8/2016 -->
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2"> <!--  ID change to collapse-2 14/8/2016 -->         
              <ul class="nav navbar-nav navbar-left">
                <li><a href="#">Algemeen</a></li>
                <li><a href="#">Tekeningen</a></li>
                <li><a href="#">Alles</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->

      </nav> <!-- END NAVBAR TOP -->

      <nav class="navbar navbar-default navbar-fixed-bottom">
          <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
              </div>
    
              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                
                <ul class="nav navbar-nav">
                  <!-- <li class="active"><a href="#">Foto Selecteren <span class="sr-only">(current)</span></a></li>
                  <li><a href="#">Actie</a></li> -->
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Foto Selecteren <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      <li><a href="#">Geen foto's</a></li>
                      <li><a href="#">Alle foto's</a></li>
                      <li><a href="#">Laatste upload</a></li>
                      <li><a href="#">Zichtbaar voor Publiek</a></li>
                      <li><a href="#">Zichtbaar voor Vriend</a></li>
                      <li><a href="#">Zichtbaar voor Kennis</a></li>
                      <li><a href="#">Zichtbaar voor Familie</a></li>   
                      <li><a href="#">Zichtbaar voor Administrator</a></li>
                      <!-- <li role="separator" class="divider"></li>
                      <li><a href="#">Separated link</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#">One more separated link</a></li> -->
                    </ul>
                  </li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Actie uitvoeren<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      <li><a href="#">Maak zichtbaar voor Publiek</a></li>
                      <li><a href="#">Maak zichtbaar voor Vriend</a></li>
                      <li><a href="#">Maak zichtbaar voor Kennis</a></li>
                      <li><a href="#">Maak zichtbaar voor Familie</a></li>
                      <li><a href="#">Maak zichtbaar voor Administrator</a></li>
                      <li><a href="#">Verplaatsen naar album</a></li>
                      <li><a href="#">Kopieren naar album</a></li>
                      <li><a href="#">Verwijderen</a></li>
                     <!--  <li role="separator" class="divider"></li>
                      <li><a href="#">Separated link</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#">One more separated link</a></li> -->
                    </ul>
                  </li>
                </ul>
                
                <ul class="nav navbar-nav navbar-left"> <!-- Added icons 14/8/2016 -->
                      <li><a href="#" data-toggle="tooltip" title="Kopieren"><i class="fa fa-copy"></i></a></li>
                      <li><a href="#" data-toggle="tooltip" title="Verplaatsen"><i class="fa fa-clipboard"></i></a></li>
                      <li><a href="#" data-toggle="tooltip" title="Verwijderen"><i class="fa fa-trash"></i></a></li>
                      <li><a href="#" data-toggle="tooltip" title="Upload"><i class="fa fa-upload"></i></a></li>
                      <li><a href="#" data-toggle="tooltip" title="Download"><i class="fa fa-download"></i></a></li>
                    </ul>
              </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
      </nav>
    
    <section><!-- Start Gallery -->

      <div class="container">

        <div role="tabpanel">

            <!-- Tab panes -->
            <div class="tab-content">
                
                <div role="tabpanel" class="tab-pane active" id="alle">
                    <div class="row no-gutters imageGallery">
                        <!-- Add images here -->
                        
                    </div><!-- End row -->
                </div><!-- End tabpanel -->

            </div><!-- End tab-content -->

        </div><!-- End role tabpanel -->

      </div><!-- End container -->
      
      <!-- Store images not being displayed for the current tab -->
      <div class="localImageStore hide"></div>


    </section>

    


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>

     <!-- Lightbox -->
    <script src="../photo/js/lightbox.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
